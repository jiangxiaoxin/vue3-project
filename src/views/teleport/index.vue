<template>
  <div id="index2-page">
    <Teleport to="body" :disabled="!isfull">
      <div style="background-color: red; color: white; position: absolute; top: 0">
        <p>æˆ‘æ˜¯å¼¹çª—:{{ time }}</p>
        <button @click="isfull = !isfull">12123</button>
      </div>
    </Teleport>
  </div>
</template>

<script lang="ts">
import { defineComponent } from 'vue'
/**
 * teleport åœ¨æŒ‚è½½æ—¶ï¼Œå¿…é¡»ä¿è¯ç›®æ ‡æœ‰çœŸå®žçš„domå…ƒç´ ï¼Œå¦åˆ™ä¼šæŠ¥é”™
 * å°† teleport æ”¾åˆ°æ ¹çš„ div å†…éƒ¨ï¼Œè¿™æ ·å°±å¯ä»¥äº†
 * ç‚¹å‡»å…¨å±åŽï¼ŒæŒ‚è½½åˆ°bodyä¸Šï¼Œè¿™æ ·æ˜¯çª—å£å†…å…¨å±ï¼ˆé€šè¿‡æ ·å¼ä¿è¯ï¼‰ï¼Œç„¶åŽå†f11å…¨å±ï¼Œå°±æ•´ä¸ªbodyå…¨å±äº†ï¼Œé—´æŽ¥å®žçŽ°å…¨å±
 */
export default defineComponent({
  data() {
    return {
      time: 11111,
      interval: null,
      isfull: false
    }
  },
  computed: {
    port: function () {
      return this.isfull ? 'body' : '#index2-page'
    }
  },
  mounted() {
    console.log('ðŸš€ ~ mounted ~ mounted:')

    this.interval = setInterval(() => {
      this.time++
      console.log('ðŸš€ ~ interval ~ time:', this.time)
    }, 1000)
  },
  beforeUnmount() {
    console.log('beforeUnmount')
    clearInterval(this.interval)
  },
  unmounted() {
    console.log('unmounted')
  }
})
</script>
<style>
#index2-page {
  position: relative;
}
</style>
